var map,service,infowindow;$("#map-modal").modal({fadeDuration:200,width:4e3});var gmarkers=[],arrayAll=["restaurant","lodging","point_of_interest"],arrayRestaurant=["restaurant"],arrayLodging=["lodging"],arrayInterest=["point_of_interest"];function initMap(){var a=new google.maps.LatLng(-41.2865,174.7762);map=new google.maps.Map(document.getElementById("map"),{center:a,zoom:15});var e={location:a,radius:"2000",type:["restaurant","lodging","point_of_interest"]};function t(){!function(a){for(var e=0;e<gmarkers.length;e++)gmarkers[e].setMap(a)}(null)}function n(){t(),gmarkers=[],service.nearbySearch(e,callback)}(service=new google.maps.places.PlacesService(map)).nearbySearch(e,callback),$(".mapBtn_Lodging").click(function(){e.type=arrayLodging,n()}),$(".mapBtn_Restaurant").click(function(){e.type=arrayRestaurant,n()}),$(".mapBtn_Interest").click(function(){e.type=arrayInterest,n()})}function callback(a,e){if(e==google.maps.places.PlacesServiceStatus.OK)for(var t=0;t<a.length;t++){a[t];createMarker(a[t])}}function createMarker(a){var e=new google.maps.Marker({position:a.geometry.location,map:map,animation:google.maps.Animation.DROP,backTitle:a.name,backRating:a.rating,backAddress:a.vicinity,SideTester:a,category:a.types});gmarkers.push(e),google.maps.event.addListener(e,"click",function(){console.log($(this)[0]),console.log($(this)[0].category),$("#back_title").text($(this)[0].backTitle),$("#back_rating").text($(this)[0].backRating),$("#back_address").text($(this)[0].backAddress),flipFunc()})}function flipFunc(){$(".flip-container").toggleClass("flip")}$(".testBtn").click(function(){flipFunc()});