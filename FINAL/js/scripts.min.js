var map,service,infowindow;$("#scrollbutton").click(function(){$("html,body").animate({scrollTop:$(".conB").offset().top},"slow")}),$(".slider").slick({dots:!0,infinite:!0,speed:500,fade:!0,cssEase:"linear",centerMode:!0,autoplay:!0,autoplaySpeed:4e3}),$("#map-modal").modal({fadeDuration:200,width:4e3});var gmarkers=[],arrayAll=["restaurant","lodging","point_of_interest"],arrayRestaurant=["restaurant"],arrayLodging=["lodging"],arrayInterest=["point_of_interest"];function initMap(){var a=new google.maps.LatLng(-41.2865,174.7762);map=new google.maps.Map(document.getElementById("map"),{center:a,zoom:15});var e={location:a,radius:"2000",type:["restaurant","lodging","point_of_interest"]};function t(){!function(a){for(var e=0;e<gmarkers.length;e++)gmarkers[e].setMap(a)}(null)}function n(){t(),gmarkers=[],service.nearbySearch(e,callback)}(service=new google.maps.places.PlacesService(map)).nearbySearch(e,callback),$(".mapBtn_Lodging").click(function(){e.type=arrayLodging,n()}),$(".mapBtn_Restaurant").click(function(){e.type=arrayRestaurant,n()}),$(".mapBtn_Interest").click(function(){e.type=arrayInterest,n()})}function callback(a,e){if(e==google.maps.places.PlacesServiceStatus.OK)for(var t=0;t<a.length;t++){a[t];createMarker(a[t])}}function createMarker(a){service.getDetails({placeId:a.place_id},function(a){console.log(a)});var e=new google.maps.Marker({position:a.geometry.location,map:map,animation:google.maps.Animation.DROP,backTitle:a.name,backRating:a.rating,backAddress:a.vicinity,SideTester:a,category:a.types,backImage:a.photos.reference});gmarkers.push(e),google.maps.event.addListener(e,"click",function(){console.log($(this)[0]),console.log($(this)[0].category),$("#back_img").attr("src","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference="+$(this).backImage+"&key=AIzaSyBzcNyeAQB2eOqCy57ZR8eTAEnq5UshQHU"),$("#back_title").text($(this)[0].backTitle),$("#back_rating").text($(this)[0].backRating),$("span.stars").stars(),$("#back_address").text($(this)[0].backAddress),flipCard()})}var cardTransitionTime=500,$card=$(".js-card"),switching=!1;function flipCard(){if(switching)return!1;switching=!0,$card.toggleClass("is-switched"),window.setTimeout(function(){$card.children().children().toggleClass("is-active"),switching=!1},cardTransitionTime/2)}$("#testBtn").click(flipCard),$.fn.stars=function(){return $(this).each(function(){var a=parseFloat($(this).html()),e=16*Math.max(0,Math.min(5,a)),t=$("<span />").width(e);$(this).html(t)})};